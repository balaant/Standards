# Инфраструктура и развертывание

1. ОС Ubuntu 20.04
2. Мониторинг Prometheus + Grafana
3. Пайплайны развертывания CI в GitLab bmstu.codes
4. Контейнеры docker compose в настоящее время, Kubernetes в 2023
5. Ansible
6. Nginx
7. Для деплоя необходимо соблюдать правило: `1 репозиторий` - `1 контейнер` - `1 сервис`

### GitLab, пайплайны

- GitLab bmstu.codes
- Прямые commit в master запрещаются

- Пайплайны пока не работают.

- Вопросы:
1. Работают пайпы
2. Работает реджистри докер контейнеров (можем публиковать свои образы)
3. Можно ли публиковать библиотеки и есть ли аналог npm
4. Работает наследование пайпов (отдельный проект под пайпы, наследование в другом)


### Деплой сервиса, nginx

Как мы будем деплоить сервисы:

Каждый сервис имеет свой докер контейнер с nginx конфигом внутри. 

### Необходимо сделать общий пайплайн для деплоя
Чтобы все могли от него наследоваться и им не нужно было ничего придумывать. У нас будет общий пайплайн деплоя, fe пайплайн со своими проверками и билдом, go пайплайн со своими проверками и билдом. Разработчик к себе подключает 2 пайпа: common + fe и может добавить свои собственные пайпы
